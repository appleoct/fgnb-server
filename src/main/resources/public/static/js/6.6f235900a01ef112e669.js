webpackJsonp([6],{"3dbi":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.el-transfer-panel {\n  width: 400px\n}\n",""])},"5CHe":function(t,e,i){var n=i("7cm0");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("2d215d92",n,!0)},"7cm0":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},cvNl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("mvHQ"),s=i.n(n),a=i("lCmq"),o=i("pR/e"),r={props:{dialogTitle:String,isAdd:Boolean,projectId:Number},data:function(){return{dialogVisible:!1,saveTestSuiteForm:{projectId:this.projectId,testSuiteTestCaseIds:[]},saveTestSuiteBtnLoading:!1,testCaseList:[]}},methods:{saveTestSuite:function(){var t=this;this.saveTestSuiteBtnLoading=!0,this.isAdd?Object(o.a)(this.saveTestSuiteForm).then(function(e){t.$notify.success(e.msg),t.$emit("saveTestSuiteSuccess"),t.dialogVisible=!1,t.saveTestSuiteBtnLoading=!1}).catch(function(e){t.saveTestSuiteBtnLoading=!1}):Object(o.e)(this.saveTestSuiteForm).then(function(e){t.$notify.success(e.msg),t.$emit("saveTestSuiteSuccess"),t.dialogVisible=!1,t.saveTestSuiteBtnLoading=!1}).catch(function(e){t.saveTestSuiteBtnLoading=!1})},requestGetTestCaseList:function(){var t=this;Object(a.d)(this.projectId,3).then(function(e){var i=[];e.data.forEach(function(t){i.push({key:t.actionId,label:t.description?"【"+t.actionName+"】"+t.description:"【"+t.actionName+"】"})}),t.testCaseList=i})}},created:function(){this.requestGetTestCaseList()}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"1200px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{attrs:{data:t.saveTestSuiteForm,"label-width":"80px"}},[i("el-form-item",{staticClass:"content-center",attrs:{label:"测试集名",rules:[{required:!0}]}},[i("el-input",{staticStyle:{width:"300px"},attrs:{clearable:""},model:{value:t.saveTestSuiteForm.testSuiteName,callback:function(e){t.$set(t.saveTestSuiteForm,"testSuiteName","string"==typeof e?e.trim():e)},expression:"saveTestSuiteForm.testSuiteName"}})],1),t._v(" "),i("el-form-item",{staticClass:"content-center",attrs:{label:"描述"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",clearable:""},model:{value:t.saveTestSuiteForm.description,callback:function(e){t.$set(t.saveTestSuiteForm,"description","string"==typeof e?e.trim():e)},expression:"saveTestSuiteForm.description"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"测试用例",rules:[{required:!0}]}},[i("el-transfer",{attrs:{filterable:"","filter-placeholder":"关键字搜索",titles:["所有用例","已选用例"],data:t.testCaseList},model:{value:t.saveTestSuiteForm.testSuiteTestCaseIds,callback:function(e){t.$set(t.saveTestSuiteForm,"testSuiteTestCaseIds",e)},expression:"saveTestSuiteForm.testSuiteTestCaseIds"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.saveTestSuiteBtnLoading},on:{click:t.saveTestSuite}},[t._v("保 存")])],1)],1)},staticRenderFns:[]};var u={components:{SaveTestSuiteDialog:i("VU/8")(r,l,!1,function(t){i("t8Av")},null,null).exports},data:function(){return{addTestSuiteDialogTitle:"新增测试集",updateTestSuiteDialogTitle:"修改测试集",projectId:localStorage.getItem("projectId")?parseInt(localStorage.getItem("projectId")):null,testSuiteList:[]}},methods:{makeAddTestSuiteDialogVisible:function(){this.$refs.addTestSuiteDialog.dialogVisible=!0},requestTestSuiteList:function(){var t=this;Object(o.c)(this.projectId).then(function(e){t.testSuiteList=e.data})},deleteTestSuite:function(t){var e=this;this.$confirm("删除该测试集？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.b)(t.testSuiteId).then(function(t){e.$notify.success(t.msg),e.requestTestSuiteList()})})},makeUpdateTestSuiteDialogVisible:function(t){var e=this;Object(o.d)(t.testSuiteId).then(function(t){var i=JSON.parse(s()(t.data));e.$refs.updateTestSuiteDialog.saveTestSuiteForm=i,e.$refs.updateTestSuiteDialog.dialogVisible=!0})}},created:function(){this.requestTestSuiteList()}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",[i("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"primary"},on:{click:t.makeAddTestSuiteDialogVisible}},[t._v("新增测试集")])],1),t._v(" "),i("div",[i("SaveTestSuiteDialog",{ref:"addTestSuiteDialog",attrs:{projectId:t.projectId,dialogTitle:t.addTestSuiteDialogTitle,isAdd:!0},on:{saveTestSuiteSuccess:function(e){t.requestTestSuiteList()}}}),t._v(" "),i("SaveTestSuiteDialog",{ref:"updateTestSuiteDialog",attrs:{projectId:t.projectId,dialogTitle:t.updateTestSuiteDialogTitle,isAdd:!1},on:{saveTestSuiteSuccess:function(e){t.requestTestSuiteList()}}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-table",{attrs:{data:t.testSuiteList,"highlight-current-row":"",border:""}},[i("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"测试集名",align:"center",prop:"testSuiteName"}}),t._v(" "),i("el-table-column",{attrs:{label:"描述",align:"center",prop:"description"}}),t._v(" "),i("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updateTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"创建人",align:"center",prop:"creatorNickname"}}),t._v(" "),i("el-table-column",{attrs:{label:"更新人",align:"center",prop:"updatorNickname"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){t.makeUpdateTestSuiteDialogVisible(e.row)}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){t.deleteTestSuite(e.row)}}},[t._v("删除")])]}}])})],1)],1)])},staticRenderFns:[]};var d=i("VU/8")(u,c,!1,function(t){i("5CHe")},"data-v-f8fd0028",null);e.default=d.exports},"pR/e":function(t,e,i){"use strict";e.a=function(t){return Object(n.a)({method:"POST",url:"/testSuite/add",data:t})},e.e=function(t){return Object(n.a)({method:"POST",url:"/testSuite/update",data:t})},e.c=function(t){return Object(n.a)({method:"GET",url:"/testSuite/findTestSuitesByProjectId",params:{projectId:t}})},e.b=function(t){return Object(n.a)({method:"GET",url:"/testSuite/delete",params:{testSuiteId:t}})},e.d=function(t){return Object(n.a)({method:"GET",url:"/testSuite/getTestSuiteDetailInfoByTestSuiteId",params:{testSuiteId:t}})};var n=i("vLgD"),s=i("mw3O");i.n(s)},t8Av:function(t,e,i){var n=i("3dbi");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("5e5816e5",n,!0)}});