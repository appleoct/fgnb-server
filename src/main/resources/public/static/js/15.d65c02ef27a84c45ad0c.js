webpackJsonp([15],{"31uc":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("vLgD");var l={props:{data:Array},data:function(){},methods:{}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-collapse",t._l(t.data,function(e){return a("el-collapse-item",[a("template",{slot:"title"},[t._v("\n        "+t._s(e.testCaseName)+"\n        "),0===e.status?a("el-tag",{attrs:{type:"danger",size:"small"}},[t._v("失败")]):1===e.status?a("el-tag",{attrs:{type:"success",size:"small"}},[t._v("成功")]):2===e.status?a("el-tag",{attrs:{type:"warning",size:"small"}},[t._v("跳过")]):t._e()],1),t._v(" "),a("div",[a("div",{staticStyle:{padding:"10px"}},[a("div",[a("el-tag",{staticStyle:{color:"#606266"},attrs:{size:"small",color:"white"}},[t._v("开始时间："+t._s(e.startTime))]),t._v(" "),a("el-tag",{staticStyle:{color:"#606266"},attrs:{size:"small",color:"white"}},[t._v("结束时间："+t._s(e.endTime))])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{attrs:{data:[e],border:""}},[a("el-table-column",{attrs:{label:"视频",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("video",{attrs:{src:e.row.videoUrl,width:"300px",controls:"controls"}},[t._v("\n                    浏览器不支持video标签\n                  ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"错误截图",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"300px"},attrs:{src:t.row.imgUrl}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"错误信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.errorInfo))])]}}])})],1)],1)])])],2)}))],1)},staticRenderFns:[]},n={data:function(){return{testTaskId:this.$route.params.testTaskId,reportData:{},tableData:[]}},components:{testcase:a("VU/8")(l,s,!1,null,null,null).exports},methods:{beforeSuiteConvertToTestCase:function(t){var e=[];return e.push(t),e}},created:function(){var t,e=this;(t=this.testTaskId,Object(r.a)({method:"GET",url:"/testTaskReport/getReport",params:{testTaskId:t}})).then(function(t){e.reportData=t.data,e.tableData.push({projectName:e.reportData.projectName,projectType:e.reportData.projectType,testTaskName:e.reportData.testTaskName,creatorName:e.reportData.creatorName,startTime:e.reportData.startTime,endTime:e.reportData.endTime,passCount:e.reportData.passCount,failCount:e.reportData.failCount,skipCount:e.reportData.skipCount,passPercent:Math.round(e.reportData.passCount/(e.reportData.passCount+e.reportData.failCount+e.reportData.skipCount)*1e4)/100+"%"})})}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"20px","font-size":"30px"}},[a("el-card",[a("span",{staticStyle:{"font-weight":"900"},attrs:{slot:"header"},slot:"header"},[t._v("\n      概况\n    ")]),t._v(" "),a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"项目类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[1===t.row.projectType?a("svg-icon",{attrs:{"icon-class":"android"}}):a("svg-icon",{attrs:{"icon-class":"ios"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"项目",prop:"projectName",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"测试任务",prop:"testTaskName",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"任务提交人",prop:"creatorName",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"开始时间",prop:"startTime",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"结束时间",prop:"endTime",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"通过用例数",prop:"passCount",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"失败用例数",prop:"failCount",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"跳过用例数",prop:"skipCount",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"通过率",prop:"passPercent",align:"center"}})],1)],1),t._v(" "),a("el-card",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{"font-weight":"900"},attrs:{slot:"header"},slot:"header"},[t._v("\n      详细信息\n    ")]),t._v(" "),a("el-tabs",[a("div",{staticStyle:{padding:"10px"}},t._l(t.reportData.deviceReportInfos,function(e){return a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-mobile-phone"}),t._v(" "+t._s(e.deviceId)+"\n          ")]),t._v(" "),a("div",{staticStyle:{padding:"10px"}},[a("testcase",{attrs:{data:e.deviceTestCaseInfos}})],1)])}))])],1)],1)},staticRenderFns:[]},i=a("VU/8")(n,o,!1,null,null,null);e.default=i.exports}});