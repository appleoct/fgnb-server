webpackJsonp([5],{"45CA":function(n,e,t){"use strict";var a=t("s8Ph"),r={name:"CategoryList",props:{categoryType:Number,projectId:Number},data:function(){return{categoryList:[]}},methods:{handleCurrentChange:function(n){this.$emit("selectCategoryRow",n)},requestGetCategoriesByProjectIdAndCategoryType:function(){var n=this;Object(a.b)(this.projectId,this.categoryType).then(function(e){n.categoryList=e.data,n.categoryList.splice(0,0,{categoryId:null,projectId:n.projectId,categoryName:"全部"})})}},created:function(){this.requestGetCategoriesByProjectIdAndCategoryType()},updated:function(){this.$refs.categoryTable.setCurrentRow(this.categoryList[0])}},o={render:function(){var n=this.$createElement,e=this._self._c||n;return e("div",[e("el-table",{ref:"categoryTable",attrs:{data:this.categoryList,"highlight-current-row":"",border:""},on:{"current-change":this.handleCurrentChange}},[e("el-table-column",{attrs:{property:"categoryName",label:"分类",align:"center"}})],1)],1)},staticRenderFns:[]};var s=t("VU/8")(r,o,!1,function(n){t("tpX5")},"data-v-29f3f392",null);e.a=s.exports},"4HAX":function(n,e,t){var a=t("i4F5");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("4e8eb891",a,!0)},"7URt":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("45CA"),r=t("iDPj"),o={components:{CategoryList:a.a},data:function(){return{projectId:localStorage.getItem("projectId")?parseInt(localStorage.getItem("projectId")):null,categoryType:1,pageList:[],queryPageListForm:{pageIndex:1,countPerPage:5,projectId:null,categoryId:null},pages:null,total:0}},methods:{handleCurrentChange:function(n){this.queryPageListForm.pageIndex=n,this.requestPageListByPageCategory()},onSelectCategoryRow:function(n){this.queryPageListForm.projectId=n.projectId,this.queryPageListForm.categoryId=n.categoryId,this.queryPageListForm.pageIndex=1,this.requestPageListByPageCategory()},requestPageListByPageCategory:function(){var n=this;Object(r.c)(this.queryPageListForm).then(function(e){n.pageList=e.data.data,n.total=e.data.total,n.pages=e.data.pages})},modiPage:function(n){this.$router.push({name:"EditPage",params:{pageId:n.pageId}})},removePage:function(n){var e=this;this.$confirm("确认删除？").then(function(t){Object(r.b)(n.pageId).then(function(n){e.$notify.success(n.msg),e.requestPageListByPageCategory()})})}}},s={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",[n._v("添加page")])]),n._v(" "),t("el-steps",{attrs:{"align-center":""}},[t("el-step",{attrs:{title:"步骤1",description:"远程真机",icon:"el-icon-mobile-phone"}}),n._v(" "),t("el-step",{attrs:{title:"步骤2",description:"选择使用一台手机",icon:"el-icon-mobile-phone"}}),n._v(" "),t("el-step",{attrs:{title:"步骤3",description:"点击元素查看器跳转到相应的page页面",icon:"el-icon-search"}}),n._v(" "),t("el-step",{attrs:{title:"步骤4",description:"保存page",icon:"el-icon-success"}})],1)],1),n._v(" "),t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",[n._v("page列表")])]),n._v(" "),t("el-row",[t("el-col",{staticStyle:{"max-height":"590px",overflow:"auto"},attrs:{span:3}},[t("CategoryList",{attrs:{projectId:n.projectId,categoryType:n.categoryType},on:{selectCategoryRow:n.onSelectCategoryRow}})],1),n._v(" "),t("el-col",{staticStyle:{"max-height":"590px",overflow:"auto"},attrs:{span:21}},[t("el-table",{attrs:{data:n.pageList,border:""}},[t("el-table-column",{attrs:{property:"createTime",align:"center",label:"创建时间"}}),n._v(" "),t("el-table-column",{attrs:{property:"pageName",align:"center",label:"page名"}}),n._v(" "),t("el-table-column",{attrs:{property:"description",align:"center",label:"描述"}}),n._v(" "),t("el-table-column",{attrs:{label:"page截图",align:"center"},scopedSlots:n._u([{key:"default",fn:function(n){return[t("img",{attrs:{src:n.row.imgUrl,height:"200px"}})]}}])}),n._v(" "),t("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updateTime"}}),n._v(" "),t("el-table-column",{attrs:{label:"创建人",align:"center",prop:"creatorNickname"}}),n._v(" "),t("el-table-column",{attrs:{label:"更新人",align:"center",prop:"updatorNickname"}}),n._v(" "),t("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){n.modiPage(e.row)}}},[n._v("查看")]),n._v(" "),t("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){n.removePage(e.row)}}},[n._v("删除")])]}}])})],1),n._v(" "),n.total>n.queryPageListForm.countPerPage?t("div",{staticStyle:{"margin-top":"10px"},attrs:{align:"center"}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":n.queryPageListForm.pageIndex,total:10*n.pages},on:{"current-change":n.handleCurrentChange}})],1):n._e()],1)],1)],1)],1)},staticRenderFns:[]};var i=t("VU/8")(o,s,!1,function(n){t("4HAX")},null,null);e.default=i.exports},d7vy:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},i4F5:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},tpX5:function(n,e,t){var a=t("d7vy");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("c5dfaa90",a,!0)}});