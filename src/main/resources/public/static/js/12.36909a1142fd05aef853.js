webpackJsonp([12],{"Yo/a":function(e,t,i){var a=i("atTR");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("2e95c6d6",a,!0)},atTR:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"\n.deviceinfodetail[data-v-01b1909e]{\n  color: #409EFF;\n}\n.deviceinfo[data-v-01b1909e]{\n  margin-bottom: 10px;\n}\n.el-card__header[data-v-01b1909e]{\n  background-color: aqua;\n}\n\n",""])},m3xl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("xV2B"),n={watch:{queryListForm:{handler:function(){console.log("检测到请求form有变化"),this.requestGetDeviceList()},deep:!0}},data:function(){return{deviceTypes:[],loading:!0,devices:[],pages:null,total:0,countPerRow:4,queryListForm:{pageIndex:1,countPerPage:8,deviceType:null}}},methods:{clearSearch:function(){this.queryListForm={pageIndex:1,countPerPage:8,deviceType:null}},handleCurrentChange:function(e){console.log("点击页码",e),this.queryListForm.pageIndex=e},getDeviceTypes:function(e){var t=this;!0===e&&Object(a.e)().then(function(e){t.deviceTypes=e.data})},jumpToDeviceControlPage:function(e){var t=this,i=window.open("","_blank","width=1920,height=1080");Object(a.a)(e.deviceId).then(function(a){var n=t.$router.resolve({path:"/deviceController/index",query:{deviceId:e.deviceId,agentIp:e.agentIp}});i.location.href=n.href,e.status=2,localStorage.deviceId=e.deviceId,localStorage.agentIp=e.agentIp}).catch(function(){i.close()})},isDisabled:function(e){return 1!==e.status},btnText:function(e){return 1===e.status?"立即使用":0===e.status?"已离线":2===e.status?(e.userName?"["+e.userName+"]":"")+"使用中":void 0},btnType:function(e){return 1===e.status?"primary":0===e.status?"info":2===e.status?"danger":void 0},requestGetDeviceList:function(){var e=this;Object(a.c)(this.queryListForm).then(function(t){e.devices=t.data.data,e.total=t.data.total,e.pages=t.data.pages,console.log("devices",e.devices),e.loading=!1}).catch(function(){e.loading=!1})}},created:function(){this.requestGetDeviceList()}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticStyle:{"margin-top":"10px"}},[i("el-select",{attrs:{placeholder:"设备类型"},on:{"visible-change":e.getDeviceTypes},model:{value:e.queryListForm.deviceType,callback:function(t){e.$set(e.queryListForm,"deviceType",t)},expression:"queryListForm.deviceType"}},e._l(e.deviceTypes,function(t){return i("el-option",{attrs:{label:t.deviceTypeName,value:t.deviceTypeId}},[1===t.deviceTypeId?i("svg-icon",{staticStyle:{"vertical-align":"middle"},attrs:{"icon-class":"android"}}):i("svg-icon",{staticStyle:{"vertical-align":"middle"},attrs:{"icon-class":"ios"}}),e._v(" "),i("span",[e._v(e._s(t.deviceTypeName))])],1)})),e._v(" "),i("el-button",{on:{click:e.clearSearch}},[e._v("重置")])],1),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"10px"}},e._l(Math.ceil(e.devices.length/e.countPerRow),function(t){return i("el-row",{attrs:{gutter:20}},e._l(e.devices.slice(t*e.countPerRow-e.countPerRow,t*e.countPerRow),function(t){return i("el-col",{attrs:{span:6}},[i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v(e._s(t.deviceName+"("+t.deviceId+")"))])]),e._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("img",{attrs:{width:"100%",height:"100%",src:t.imgUrl}})]),e._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"deviceinfo"},[e._v("安卓版本:"),i("span",{staticClass:"deviceinfodetail"},[e._v(e._s(t.systemVersion))])]),e._v(" "),i("div",{staticClass:"deviceinfo"},[e._v("分辨率:"),i("span",{staticClass:"deviceinfodetail"},[e._v(e._s(t.resolution))])]),e._v(" "),i("div",{staticClass:"deviceinfo"},[e._v("cpu:"),i("span",{staticClass:"deviceinfodetail"},[e._v(e._s(t.cpuInfo))])]),e._v(" "),i("div",{staticClass:"deviceinfo"},[e._v("内存:"),i("span",{staticClass:"deviceinfodetail"},[e._v(e._s(t.memSize))])]),e._v(" "),i("div",{staticClass:"deviceinfo"},[e._v("手机ip:"),i("span",{staticClass:"deviceinfodetail"},[e._v(e._s(t.phoneIp))])]),e._v(" "),i("div",{staticClass:"deviceinfo"},[e._v("主机ip:"),i("span",{staticClass:"deviceinfodetail"},[e._v(e._s(t.agentIp))])])])],1),e._v(" "),i("el-row",[i("div",{staticStyle:{height:"5px"}})]),e._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-button",{staticStyle:{width:"100%"},attrs:{type:e.btnType(t),disabled:e.isDisabled(t)},on:{click:function(i){e.jumpToDeviceControlPage(t)}}},[e._v(e._s(e.btnText(t)))])],1)],1)],1),e._v(" "),i("div",{staticStyle:{"margin-bottom":"20px"}})],1)}))})),e._v(" "),e.total>e.queryListForm.countPerPage?i("div",{staticStyle:{"margin-top":"10px"},attrs:{align:"center"}},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.queryListForm.pageIndex,total:10*e.pages},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},staticRenderFns:[]};var c=i("VU/8")(n,s,!1,function(e){i("Yo/a")},"data-v-01b1909e",null);t.default=c.exports}});